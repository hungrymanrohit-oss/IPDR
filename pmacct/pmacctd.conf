# pmacct configuration for Network Flow Dashboard
# This file should be placed in /etc/pmacct/pmacctd.conf

# Global settings
daemonize: true
pidfile: /var/run/pmacctd.pid
logfile: /var/log/pmacctd.log
log_level: info

# Network interfaces to monitor
# Add your network interfaces here
interface: eth0
interface: eth1

# Flow capture settings
flow_capture: true
flow_capture_engine: nfprobe
flow_capture_engine_version: 9

# Flow export settings
# Export flows to PostgreSQL database
sql_table: network_flows
sql_host: localhost
sql_port: 5432
sql_user: postgres
sql_passwd: postgres
sql_db: network_flows

# Flow aggregation settings
aggregate: src_host, dst_host, src_port, dst_port, proto
aggregate_primitives: src_host, dst_host, src_port, dst_port, proto, tos, tcp_flags, input, output, packets, bytes, flows, timestamp

# Time settings
flow_timeout: 300
flow_timeout_active: 60
flow_timeout_inactive: 30

# Sampling settings (if needed)
sampling_rate: 1

# Memory settings
memory_pool_size: 1000000
memory_pool_cleanup: 300

# Output settings
print_output: false
print_output_file: /var/log/pmacctd_flows.log
print_output_format: json

# Plugin settings
plugins: sql
sql_refresh_time: 60
sql_optimize_clauses: true

# Additional settings for high-performance environments
# Uncomment and adjust as needed
# pre_tag_map: /etc/pmacct/pre_tag.map
# pre_tag_map_delimiter: ,
# pre_tag_map_depth: 1

# IPv6 support
# enable_ipv6: true

# Debug settings (disable in production)
# debug: true
# debug_level: 9